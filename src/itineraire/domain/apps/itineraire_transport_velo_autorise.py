from datetime import datetime
import logging

from src.itineraire.domain.usecases.calcul_itineraire_transport import \
    calcul_itineraire_transport
from src.itineraire.infrastructure.api_handler import ApiHandler


def itineraire_transport_velo_autorise(
    departure_address: str,
    arrival_address: str,
    travel_datetime: datetime = None,
    datetime_represents: str = "departure"
) -> dict:
    api_handler = ApiHandler()
    itinerary = calcul_itineraire_transport(
        api_handler, departure_address, arrival_address, travel_datetime, datetime_represents)
    return itinerary


if __name__ == "__main__":
    itinerary = itineraire_transport_velo_autorise(
        "34 avenue de l'opera", "Cergy"
    )
    print(itinerary)
    logging.info(itinerary.get("itinerary_transport"))


### response example
# {'itinerary_transport': [{'duration': 2690, 'nb_transfers': 0, 'departure_date_time': '20251114T133419', 'arrival_date_time': '20251114T141909', 'requested_date_time': '20251114T133023', 'type': 'best', 'status': 'SIGNIFICANT_DELAYS', 'tags': ['walking', 'ecologic'], 'co2_emission': {'value': 160.9390688308, 'unit': 'gEC'}, 'air_pollutants': {'unit': 'g', 'values': {'nox': 0.0, 'pm': 0.0}}, 'durations': {'total': 2690, 'walking': 575, 'bike': 0, 'car': 0, 'ridesharing': 0, 'taxi': 0}, 'distances': {'walking': 598, 'bike': 0, 'car': 0, 'ridesharing': 0, 'taxi': 0}, 'fare': {'found': True, 'total': {'value': '250.0', 'currency': 'centime'}, 'links': [{'templated': False, 'rel': 'tickets', 'internal': True, 'type': 'ticket', 'id': 'ticket_1_0'}]}, 'calendars': [{'week_pattern': {'monday': False, 'tuesday': False, 'wednesday': False, 'thursday': False, 'friday': True, 'saturday': False, 'sunday': False}, 'active_periods': [{'begin': '20251114', 'end': '20251114'}]}], 'sections': [{'id': 'aWvy7Vz7LL5eLv7MUhhaS6_0', 'duration': 526, 'co2_emission': {'value': 0.0, 'unit': 'gEC'}, 'departure_date_time': '20251114T133419', 'arrival_date_time': '20251114T134305', 'to': {'id': 'stop_point:IDFM:monomodalStopPlace:45873', 'name': 'Auber (Paris)', 'quality': 0, 'stop_point': {'id': 'stop_point:IDFM:monomodalStopPlace:45873', 'name': 'Auber', 'codes': [{'type': 'netex_monomodal_stopplace', 'value': 'monomodalStopPlace:45873'}, {'type': 'netex_zder_quay', 'value': '412806'}, {'type': 'netex_zder_quay', 'value': '473924'}, {'type': 'netex_zder_quay', 'value': '473925'}, {'type': 'netex_zder_quay', 'value': 'monomodalStopPlace:45873'}, {'type': 'source', 'value': 'FR::monomodalStopPlace:45873:FR1'}], 'label': 'Auber (Paris)', 'coord': {'lon': '2.329659149579359', 'lat': '48.8723488407182'}, 'links': [], 'administrative_regions': [{'id': 'admin:fr:75056', 'name': 'Paris', 'level': 8, 'zip_code': '75000;75001;75002;75003;75004;75005;75006;75007;75008;75009;75010;75011;75012;75013;75014;75015;75016;75017;75018;75019;75020;75116', 'label': 'Paris (75000-75116)', 'insee': '75056', 'coord': {'lon': '2.3483915', 'lat': '48.8534951'}}, {'id': 'admin:fr:75109', 'name': 'Paris 9e Arrondissement', 'level': 9, 'zip_code': '75009', 'label': 'Paris 9e Arrondissement (75009)', 'insee': '75109', 'coord': {'lon': '2.339962', 'lat': '48.876019'}}, {'id': 'admin:admin:osm:relation:2189601', 'name': "Quartier de la Chaussée-d'Antin", 'level': 10, 'zip_code': '75009', 'label': "Quartier de la Chaussée-d'Antin (75009)", 'insee': '', 'coord': {'lon': '2.332270748378339', 'lat': '48.87354754952364'}}], 'stop_area': {'id': 'stop_area:IDFM:478926', 'name': 'Auber', 'codes': [{'type': 'TN_PA', 'value': '483'}, {'type': 'source', 'value': 'FR::multimodalStopPlace:478926:FR1'}], 'timezone': 'Europe/Paris', 'label': 'Auber (Paris)', 'coord': {'lon': '2.329726949991952', 'lat': '48.87286449112577'}, 'links': []}, 'equipments': ['has_wheelchair_boarding'], 'address': {'id': '2.3296591495793595;48.872348840718196', 'name': 'Rue Auber', 'house_number': 0, 'coord': {'lon': '2.329659149579359', 'lat': '48.8723488407182'}, 'label': '6B Rue Auber (Paris)'}, 'fare_zone': {'name': '1'}}, 'embedded_type': 'stop_point'}, 'from': {'id': '2.33337;48.868659', 'name': "34 Avenue de l'Opéra (Paris)", 'quality': 0, 'embedded_type': 'address', 'address': {'id': '2.33337;48.868659', 'coord': {'lon': '2.333370004894194', 'lat': '48.86865900047096'}, 'house_number': 34, 'label': "34 Avenue de l'Opéra (Paris)", 'name': "34 Avenue de l'Opéra", 'administrative_regions': [{'id': 'admin:osm:relation:2189366', 'insee': '', 'name': 'Quartier Gaillon', 'label': 'Quartier Gaillon (75002)', 'level': 10, 'coord': {'lon': '2.333430854098391', 'lat': '48.869305941542514'}, 'zip_code': '75002'}, {'id': 'admin:fr:75056', 'insee': '75056', 'name': 'Paris', 'label': 'Paris (75000-75116)', 'level': 8, 'coord': {'lon': '2.3483915', 'lat': '48.8534951'}, 'zip_code': '75000-75116'}, {'id': 'admin:osm:relation:71525', 'insee': '75', 'name': 'Paris', 'label': 'Paris', 'level': 6, 'coord': {'lon': '2.3483915', 'lat': '48.8534951'}, 'zip_code': None}, {'id': 'admin:osm:relation:8649', 'insee': '11', 'name': 'Île-de-France', 'label': 'Île-de-France', 'level': 4, 'coord': {'lon': '2.3483915', 'lat': '48.8534951'}, 'zip_code': None}, {'id': 'admin:osm:relation:2202162', 'insee': '', 'name': 'France', 'label': 'France', 'level': 2, 'coord': {'lon': '2.3483915', 'lat': '48.8534951'}, 'zip_code': None}, {'id': 'admin:osm:relation:20727', 'insee': '75101', 'name': 'Paris 1er Arrondissement', 'label': 'Paris 1er Arrondissement (75001)', 'level': 9, 'coord': {'lon': '2.334396', 'lat': '48.8646144'}, 'zip_code': '75001'}]}}, 'geojson': {'type': 'LineString', 'coordinates': [[2.3333700049, 48.8686590005], [2.333131, 48.868721], [2.333103, 48.868796], [2.333028, 48.868976], [2.332844, 48.869018], [2.332733, 48.869042], [2.33267, 48.869068], [2.331635, 48.86952], [2.331518, 48.869572], [2.33142, 48.869615], [2.3306, 48.869956], [2.330521, 48.86999], [2.330154, 48.870164], [2.330045, 48.870273], [2.330001, 48.870405], [2.329982, 48.870465], [2.329981, 48.870527], [2.330497, 48.871597], [2.330521, 48.871648], [2.33053, 48.871668], [2.330584, 48.871778], [2.330406, 48.871881], [2.330304, 48.871939], [2.32995, 48.872139], [2.3299881185, 48.8721689645]], 'properties': [{'length': 529}]}, 'mode': 'walking', 'type': 'street_network', 'links': [{'href': 'https://api-idfm.navitia.io/v1/coverage/idfm/elevations?polyline=erue%7CAsjlmC%7BB%7CMuCv%40gJtCsAnJo%40%7CEs%40%7CBg%5Bt_AgBhFuAbEiTfr%40cA%7CC%7BI%7CUyExEgGvAwBd%40%7BB%40%7BaAg_%40eBo%40g%40Q%7BEkBmEbJsBjEoKbU%7B%40kA', 'templated': False, 'rel': 'elevations', 'type': 'elevations'}], 'path': [{'length': 30, 'name': "Avenue de l'Opéra", 'duration': 29, 'direction': 0, 'instruction': "Marchez vers le nord sur Avenue de l'Opéra. Continuez sur 30 m.", 'instruction_start_coordinate': {'lon': '2.333131', 'lat': '48.868721'}}, {'length': 438, 'name': 'Rue Daunou', 'duration': 395, 'direction': -56, 'instruction': 'Tournez à gauche dans Rue Daunou. Continuez sur 438 m.', 'instruction_start_coordinate': {'lon': '2.333028', 'lat': '48.868976'}}, {'length': 61, 'name': 'Rue Auber', 'duration': 64, 'direction': -67, 'instruction': 'Tournez à gauche dans Rue Auber. Continuez sur 61 m.', 'instruction_start_coordinate': {'lon': '2.330584', 'lat': '48.871778'}}, {'length': 0, 'name': '', 'duration': 0, 'direction': 0, 'instruction': 'Vous êtes arrivé à votre destination.', 'instruction_start_coordinate': {'lon': '2.32995', 'lat': '48.872139'}}, {'length': 31, 'name': 'r. Auber', 'duration': 39, 'direction': 0, 'instruction': 'Accédez à Auber (Paris) via r. Auber.', 'via_uri': 'access_point:IDFM:StopPlaceEntrance:50148555'}], 'vias': [{'id': 'access_point:IDFM:StopPlaceEntrance:50148555', 'name': 'r. Auber', 'access_point': {'id': 'access_point:IDFM:StopPlaceEntrance:50148555', 'name': 'r. Auber', 'coord': {'lon': '2.329988118494011', 'lat': '48.87216896450126'}, 'access_point_code': '1', 'embedded_type': 'pt_access_point'}, 'is_entrance': True, 'is_exit': True, 'length': 31, 'traversal_time': 39, 'pathway_mode': 1}]}, {'id': 'section_0_0_0', 'duration': 2115, 'co2_emission': {'value': 160.9390688308, 'unit': 'gEC'}, 'departure_date_time': '20251114T134305', 'arrival_date_time': '20251114T141820', 'base_departure_date_time': '20251114T134305', 'base_arrival_date_time': '20251114T141820', 'data_freshness': 'base_schedule', 'to': {'id': 'stop_point:IDFM:monomodalStopPlace:44559', 'name': 'Cergy Préfecture (Cergy)', 'quality': 0, 'stop_point': {'id': 'stop_point:IDFM:monomodalStopPlace:44559', 'name': 'Cergy Préfecture', 'codes': [{'type': 'netex_monomodal_stopplace', 'value': 'monomodalStopPlace:44559'}, {'type': 'netex_zder_quay', 'value': '411352'}, {'type': 'netex_zder_quay', 'value': '472439'}, {'type': 'netex_zder_quay', 'value': '472932'}, {'type': 'netex_zder_quay', 'value': 'monomodalStopPlace:44559'}, {'type': 'source', 'value': 'FR::monomodalStopPlace:44559:FR1'}], 'label': 'Cergy Préfecture (Cergy)', 'coord': {'lon': '2.079780949001307', 'lat': '49.03630668313397'}, 'links': [], 'administrative_regions': [{'id': 'admin:fr:95127', 'name': 'Cergy', 'level': 8, 'zip_code': '95000;95800', 'label': 'Cergy (95000-95800)', 'insee': '95127', 'coord': {'lon': '2.0388736', 'lat': '49.0527528'}}, {'id': 'admin:admin:osm:relation:14352438', 'name': 'Grand Centre', 'level': 10, 'zip_code': '', 'label': 'Grand Centre', 'insee': '', 'coord': {'lon': '2.074918090485015', 'lat': '49.0376962651574'}}], 'stop_area': {'id': 'stop_area:IDFM:66696', 'name': 'Cergy Préfecture', 'codes': [{'type': 'TN_PA', 'value': '351'}, {'type': 'source', 'value': 'FR::multimodalStopPlace:66696:FR1'}], 'timezone': 'Europe/Paris', 'label': 'Cergy Préfecture (Cergy)', 'coord': {'lon': '2.080097613845449', 'lat': '49.03657438251047'}, 'links': []}, 'equipments': ['has_wheelchair_boarding'], 'address': {'id': '2.0797809490013073;49.036306683133965', 'name': "Grand'Place du Général de Gaulle", 'house_number': 0, 'coord': {'lon': '2.079780949001307', 'lat': '49.03630668313397'}, 'label': "Grand'Place du Général de Gaulle (Cergy)"}, 'fare_zone': {'name': '5'}}, 'embedded_type': 'stop_point'}, 'from': {'id': 'stop_point:IDFM:monomodalStopPlace:45873', 'name': 'Auber (Paris)', 'quality': 0, 'stop_point': {'id': 'stop_point:IDFM:monomodalStopPlace:45873', 'name': 'Auber', 'codes': [{'type': 'netex_monomodal_stopplace', 'value': 'monomodalStopPlace:45873'}, {'type': 'netex_zder_quay', 'value': '412806'}, {'type': 'netex_zder_quay', 'value': '473924'}, {'type': 'netex_zder_quay', 'value': '473925'}, {'type': 'netex_zder_quay', 'value': 'monomodalStopPlace:45873'}, {'type': 'source', 'value': 'FR::monomodalStopPlace:45873:FR1'}], 'label': 'Auber (Paris)', 'coord': {'lon': '2.329659149579359', 'lat': '48.8723488407182'}, 'links': [], 'administrative_regions': [{'id': 'admin:fr:75056', 'name': 'Paris', 'level': 8, 'zip_code': '75000;75001;75002;75003;75004;75005;75006;75007;75008;75009;75010;75011;75012;75013;75014;75015;75016;75017;75018;75019;75020;75116', 'label': 'Paris (75000-75116)', 'insee': '75056', 'coord': {'lon': '2.3483915', 'lat': '48.8534951'}}, {'id': 'admin:fr:75109', 'name': 'Paris 9e Arrondissement', 'level': 9, 'zip_code': '75009', 'label': 'Paris 9e Arrondissement (75009)', 'insee': '75109', 'coord': {'lon': '2.339962', 'lat': '48.876019'}}, {'id': 'admin:admin:osm:relation:2189601', 'name': "Quartier de la Chaussée-d'Antin", 'level': 10, 'zip_code': '75009', 'label': "Quartier de la Chaussée-d'Antin (75009)", 'insee': '', 'coord': {'lon': '2.332270748378339', 'lat': '48.87354754952364'}}], 'stop_area': {'id': 'stop_area:IDFM:478926', 'name': 'Auber', 'codes': [{'type': 'TN_PA', 'value': '483'}, {'type': 'source', 'value': 'FR::multimodalStopPlace:478926:FR1'}], 'timezone': 'Europe/Paris', 'label': 'Auber (Paris)', 'coord': {'lon': '2.329726949991952', 'lat': '48.87286449112577'}, 'links': []}, 'equipments': ['has_wheelchair_boarding'], 'address': {'id': '2.3296591495793595;48.872348840718196', 'name': 'Rue Auber', 'house_number': 0, 'coord': {'lon': '2.329659149579359', 'lat': '48.8723488407182'}, 'label': '6B Rue Auber (Paris)'}, 'fare_zone': {'name': '1'}}, 'embedded_type': 'stop_point'}, 'additional_informations': ['regular'], 'geojson': {'type': 'LineString', 'coordinates': [[2.3296591496, 48.8723488407], [2.2952314476, 48.8741727596], [2.2384185963, 48.8922298016], [2.222986243, 48.8958867731], [2.1851757042, 48.9203475791], [2.1572200389, 48.9376952936], [2.1446722659, 48.9457406075], [2.0777265247, 48.9706435708], [2.0746499246, 48.9911562873], [2.0783488206, 49.0137427594], [2.079780949, 49.0363066831]], 'properties': [{'length': 29261}]}, 'type': 'public_transport', 'display_informations': {'commercial_mode': 'RER', 'network': 'RER', 'direction': 'Cergy le Haut (Cergy)', 'label': 'A', 'color': 'EB2132', 'code': 'A', 'headsign': 'UZAR', 'name': 'A', 'links': [{'templated': False, 'rel': 'disruptions', 'internal': True, 'type': 'disruption', 'id': '06179005-41da-4edb-af15-b8a7a6998bb6'}, {'templated': False, 'rel': 'terminus', 'internal': True, 'type': 'stop_area', 'id': 'stop_area:IDFM:66834'}], 'text_color': 'FFFFFF', 'trip_short_name': 'UZAR83', 'company': 'SNCF', 'description': '', 'physical_mode': 'RER', 'equipments': ['has_wheelchair_accessibility', 'has_air_conditioned']}, 'links': [{'type': 'company', 'id': 'company:IDFM:800'}, {'type': 'vehicle_journey', 'id': 'vehicle_journey:IDFM:TN:SNCF:d355e7fb-ac24-48c5-ac75-a17c56790ce2'}, {'type': 'line', 'id': 'line:IDFM:C01742'}, {'type': 'route', 'id': 'route:IDFM:SNCF:67e33873-faad-384a-b9a9-175c5a776e27'}, {'type': 'commercial_mode', 'id': 'commercial_mode:RapidTransit'}, {'type': 'physical_mode', 'id': 'physical_mode:RapidTransit'}, {'type': 'network', 'id': 'network:IDFM:71'}, {'templated': False, 'rel': 'tickets', 'internal': True, 'type': 'ticket', 'id': 'ticket_1_0'}], 'stop_date_times': [{'departure_date_time': '20251114T134305', 'base_departure_date_time': '20251114T134305', 'arrival_date_time': '20251114T134225', 'base_arrival_date_time': '20251114T134225', 'stop_point': {'id': 'stop_point:IDFM:monomodalStopPlace:45873', 'name': 'Auber', 'codes': [{'type': 'netex_monomodal_stopplace', 'value': 'monomodalStopPlace:45873'}, {'type': 'netex_zder_quay', 'value': '412806'}, {'type': 'netex_zder_quay', 'value': '473924'}, {'type': 'netex_zder_quay', 'value': '473925'}, {'type': 'netex_zder_quay', 'value': 'monomodalStopPlace:45873'}, {'type': 'source', 'value': 'FR::monomodalStopPlace:45873:FR1'}], 'label': 'Auber (Paris)', 'coord': {'lon': '2.329659149579359', 'lat': '48.8723488407182'}, 'links': [], 'equipments': ['has_wheelchair_boarding'], 'address': {'id': '2.3296591495793595;48.872348840718196', 'name': 'Rue Auber', 'house_number': 0, 'coord': {'lon': '2.329659149579359', 'lat': '48.8723488407182'}, 'label': '6B Rue Auber (Paris)'}, 'fare_zone': {'name': '1'}}, 'additional_informations': [], 'links': []}, {'departure_date_time': '20251114T134611', 'base_departure_date_time': '20251114T134611', 'arrival_date_time': '20251114T134531', 'base_arrival_date_time': '20251114T134531', 'stop_point': {'id': 'stop_point:IDFM:monomodalStopPlace:58759', 'name': 'Charles de Gaulle - Etoile', 'codes': [{'type': 'netex_monomodal_stopplace', 'value': 'monomodalStopPlace:58759'}, {'type': 'netex_zder_quay', 'value': '412807'}, {'type': 'netex_zder_quay', 'value': '473922'}, {'type': 'netex_zder_quay', 'value': '473923'}, {'type': 'netex_zder_quay', 'value': 'monomodalStopPlace:58759'}, {'type': 'source', 'value': 'FR::monomodalStopPlace:58759:FR1'}], 'label': 'Charles de Gaulle - Etoile (Paris)', 'coord': {'lon': '2.295231447641207', 'lat': '48.87417275956538'}, 'links': [], 'equipments': ['has_wheelchair_boarding'], 'address': {'id': '2.295231447641207;48.874172759565376', 'name': 'Place Charles de Gaulle', 'house_number': 0, 'coord': {'lon': '2.295231447641207', 'lat': '48.87417275956538'}, 'label': 'Place Charles de Gaulle (Paris)'}, 'fare_zone': {'name': '1'}}, 'additional_informations': [], 'links': []}, {'departure_date_time': '20251114T135014', 'base_departure_date_time': '20251114T135014', 'arrival_date_time': '20251114T134945', 'base_arrival_date_time': '20251114T134945', 'stop_point': {'id': 'stop_point:IDFM:monomodalStopPlace:470549', 'name': 'La Défense', 'codes': [{'type': 'netex_monomodal_stopplace', 'value': 'monomodalStopPlace:470549'}, {'type': 'netex_zder_quay', 'value': '40951'}, {'type': 'netex_zder_quay', 'value': '470974'}, {'type': 'netex_zder_quay', 'value': '472137'}, {'type': 'netex_zder_quay', 'value': '472283'}, {'type': 'netex_zder_quay', 'value': '473934'}, {'type': 'netex_zder_quay', 'value': '473935'}, {'type': 'netex_zder_quay', 'value': '473936'}, {'type': 'netex_zder_quay', 'value': '473937'}, {'type': 'netex_zder_quay', 'value': '484165'}, {'type': 'netex_zder_quay', 'value': '484166'}, {'type': 'netex_zder_quay', 'value': 'monomodalStopPlace:470549'}, {'type': 'source', 'value': 'FR::monomodalStopPlace:470549:FR1'}], 'label': 'La Défense (Puteaux)', 'coord': {'lon': '2.238418596250407', 'lat': '48.89222980156821'}, 'links': [], 'equipments': ['has_wheelchair_boarding'], 'address': {'id': '2.238418596250407;48.892229801568206', 'name': 'Parvis de la Défense', 'house_number': 2, 'coord': {'lon': '2.238418596250407', 'lat': '48.89222980156821'}, 'label': '2 Parvis de la Défense (Puteaux)'}, 'fare_zone': {'name': '3'}}, 'additional_informations': [], 'links': []}, {'departure_date_time': '20251114T135400', 'base_departure_date_time': '20251114T135400', 'arrival_date_time': '20251114T135150', 'base_arrival_date_time': '20251114T135150', 'stop_point': {'id': 'stop_point:IDFM:monomodalStopPlace:43169', 'name': 'Nanterre Préfecture', 'codes': [{'type': 'netex_monomodal_stopplace', 'value': 'monomodalStopPlace:43169'}, {'type': 'netex_zder_quay', 'value': '40916'}, {'type': 'netex_zder_quay', 'value': '474051'}, {'type': 'netex_zder_quay', 'value': '474052'}, {'type': 'netex_zder_quay', 'value': '474054'}, {'type': 'netex_zder_quay', 'value': '474057'}, {'type': 'netex_zder_quay', 'value': 'monomodalStopPlace:43169'}, {'type': 'source', 'value': 'FR::monomodalStopPlace:43169:FR1'}], 'label': 'Nanterre Préfecture (Nanterre)', 'coord': {'lon': '2.222986242991368', 'lat': '48.89588677306467'}, 'links': [], 'equipments': ['has_wheelchair_boarding'], 'address': {'id': '2.2229862429913676;48.895886773064674', 'name': 'Esplanade Charles de Gaulle', 'house_number': 6, 'coord': {'lon': '2.222986242991368', 'lat': '48.89588677306467'}, 'label': '6 Esplanade Charles de Gaulle (Nanterre)'}, 'fare_zone': {'name': '3'}}, 'additional_informations': [], 'links': []}, {'departure_date_time': '20251114T135820', 'base_departure_date_time': '20251114T135820', 'arrival_date_time': '20251114T135750', 'base_arrival_date_time': '20251114T135750', 'stop_point': {'id': 'stop_point:IDFM:monomodalStopPlace:43082', 'name': 'Houilles - Carrières-sur-Seine', 'codes': [{'type': 'netex_monomodal_stopplace', 'value': 'monomodalStopPlace:43082'}, {'type': 'netex_zder_quay', 'value': '411357'}, {'type': 'netex_zder_quay', 'value': '470891'}, {'type': 'netex_zder_quay', 'value': '471638'}, {'type': 'netex_zder_quay', 'value': '472203'}, {'type': 'netex_zder_quay', 'value': '472389'}, {'type': 'netex_zder_quay', 'value': '472409'}, {'type': 'netex_zder_quay', 'value': 'monomodalStopPlace:43082'}, {'type': 'source', 'value': 'FR::monomodalStopPlace:43082:FR1'}], 'label': 'Houilles - Carrières-sur-Seine (Houilles)', 'coord': {'lon': '2.185175704201871', 'lat': '48.92034757911033'}, 'links': [], 'equipments': ['has_wheelchair_boarding'], 'address': {'id': '2.1851757042018707;48.92034757911033', 'name': 'Rue du 4 Septembre', 'house_number': 6, 'coord': {'lon': '2.185175704201871', 'lat': '48.92034757911033'}, 'label': '6 Rue du 4 Septembre (Houilles)'}, 'fare_zone': {'name': '4'}}, 'additional_informations': [], 'links': []}, {'departure_date_time': '20251114T140130', 'base_departure_date_time': '20251114T140130', 'arrival_date_time': '20251114T140100', 'base_arrival_date_time': '20251114T140100', 'stop_point': {'id': 'stop_point:IDFM:monomodalStopPlace:43191', 'name': 'Sartrouville', 'codes': [{'type': 'netex_monomodal_stopplace', 'value': 'monomodalStopPlace:43191'}, {'type': 'netex_zder_quay', 'value': '411360'}, {'type': 'netex_zder_quay', 'value': '470846'}, {'type': 'netex_zder_quay', 'value': '471244'}, {'type': 'netex_zder_quay', 'value': '471763'}, {'type': 'netex_zder_quay', 'value': '472009'}, {'type': 'netex_zder_quay', 'value': '472440'}, {'type': 'netex_zder_quay', 'value': '480207'}, {'type': 'netex_zder_quay', 'value': 'monomodalStopPlace:43191'}, {'type': 'source', 'value': 'FR::monomodalStopPlace:43191:FR1'}], 'label': 'Sartrouville (Sartrouville)', 'coord': {'lon': '2.157220038850732', 'lat': '48.93769529363442'}, 'links': [], 'equipments': ['has_wheelchair_boarding'], 'address': {'id': '2.1572200388507317;48.93769529363442', 'name': 'Rue Turgot', 'house_number': 4, 'coord': {'lon': '2.157220038850732', 'lat': '48.93769529363442'}, 'label': '4 Rue Turgot (Sartrouville)'}, 'fare_zone': {'name': '4'}}, 'additional_informations': [], 'links': []}, {'departure_date_time': '20251114T140330', 'base_departure_date_time': '20251114T140330', 'arrival_date_time': '20251114T140300', 'base_arrival_date_time': '20251114T140300', 'stop_point': {'id': 'stop_point:IDFM:monomodalStopPlace:473109', 'name': 'Maisons-Laffitte', 'codes': [{'type': 'netex_monomodal_stopplace', 'value': 'monomodalStopPlace:473109'}, {'type': 'netex_zder_quay', 'value': '41527'}, {'type': 'netex_zder_quay', 'value': '470784'}, {'type': 'netex_zder_quay', 'value': '471617'}, {'type': 'netex_zder_quay', 'value': '471907'}, {'type': 'netex_zder_quay', 'value': '472928'}, {'type': 'netex_zder_quay', 'value': 'monomodalStopPlace:473109'}, {'type': 'source', 'value': 'FR::monomodalStopPlace:473109:FR1'}], 'label': 'Maisons-Laffitte (Maisons-Laffitte)', 'coord': {'lon': '2.144672265933885', 'lat': '48.94574060746957'}, 'links': [], 'equipments': ['has_wheelchair_boarding'], 'address': {'id': '2.1446722659338855;48.94574060746957', 'name': 'Pont Jean Monnet', 'house_number': 0, 'coord': {'lon': '2.144672265933885', 'lat': '48.94574060746957'}, 'label': 'Pont Jean Monnet (Maisons-Laffitte)'}, 'fare_zone': {'name': '4'}}, 'additional_informations': [], 'links': []}, {'departure_date_time': '20251114T140950', 'base_departure_date_time': '20251114T140950', 'arrival_date_time': '20251114T140920', 'base_arrival_date_time': '20251114T140920', 'stop_point': {'id': 'stop_point:IDFM:monomodalStopPlace:46647', 'name': 'Achères Ville', 'codes': [{'type': 'netex_monomodal_stopplace', 'value': 'monomodalStopPlace:46647'}, {'type': 'netex_zder_quay', 'value': '41528'}, {'type': 'netex_zder_quay', 'value': '471010'}, {'type': 'netex_zder_quay', 'value': '473017'}, {'type': 'netex_zder_quay', 'value': 'monomodalStopPlace:46647'}, {'type': 'source', 'value': 'FR::monomodalStopPlace:46647:FR1'}], 'label': 'Achères Ville (Achères)', 'coord': {'lon': '2.077726524656543', 'lat': '48.97064357081442'}, 'links': [], 'equipments': ['has_wheelchair_boarding'], 'address': {'id': '2.0777265246565433;48.970643570814424', 'name': 'Rue Camille Jenatzy', 'house_number': 2, 'coord': {'lon': '2.077726524656543', 'lat': '48.97064357081442'}, 'label': '2 Rue Camille Jenatzy (Achères)'}, 'fare_zone': {'name': '5'}}, 'additional_informations': [], 'links': []}, {'departure_date_time': '20251114T141230', 'base_departure_date_time': '20251114T141230', 'arrival_date_time': '20251114T141200', 'base_arrival_date_time': '20251114T141200', 'stop_point': {'id': 'stop_point:IDFM:monomodalStopPlace:43114', 'name': "Conflans Fin d'Oise", 'codes': [{'type': 'netex_monomodal_stopplace', 'value': 'monomodalStopPlace:43114'}, {'type': 'netex_zder_quay', 'value': '411350'}, {'type': 'netex_zder_quay', 'value': '471418'}, {'type': 'netex_zder_quay', 'value': '471534'}, {'type': 'netex_zder_quay', 'value': '471751'}, {'type': 'netex_zder_quay', 'value': '472478'}, {'type': 'netex_zder_quay', 'value': 'monomodalStopPlace:43114'}, {'type': 'source', 'value': 'FR::monomodalStopPlace:43114:FR1'}], 'label': "Conflans Fin d'Oise (Conflans-Sainte-Honorine)", 'coord': {'lon': '2.074649924571019', 'lat': '48.99115628725848'}, 'links': [], 'equipments': ['has_wheelchair_boarding'], 'address': {'id': '2.0746499245710193;48.991156287258484', 'name': 'Rue du Maréchal Maunoury', 'house_number': 73, 'coord': {'lon': '2.074649924571019', 'lat': '48.99115628725848'}, 'label': '73 Rue du Maréchal Maunoury (Conflans-Sainte-Honorine)'}, 'fare_zone': {'name': '5'}}, 'additional_informations': [], 'links': []}, {'departure_date_time': '20251114T141530', 'base_departure_date_time': '20251114T141530', 'arrival_date_time': '20251114T141500', 'base_arrival_date_time': '20251114T141500', 'stop_point': {'id': 'stop_point:IDFM:monomodalStopPlace:47879', 'name': 'Neuville Université', 'codes': [{'type': 'netex_monomodal_stopplace', 'value': 'monomodalStopPlace:47879'}, {'type': 'netex_zder_quay', 'value': '411321'}, {'type': 'netex_zder_quay', 'value': '471126'}, {'type': 'netex_zder_quay', 'value': '472481'}, {'type': 'netex_zder_quay', 'value': 'monomodalStopPlace:47879'}, {'type': 'source', 'value': 'FR::monomodalStopPlace:47879:FR1'}], 'label': 'Neuville Université (Neuville-sur-Oise)', 'coord': {'lon': '2.078348820578231', 'lat': '49.01374275942672'}, 'links': [], 'equipments': ['has_wheelchair_boarding'], 'address': {'id': '2.078348820578231;49.01374275942672', 'name': 'Boulevard Condorcet', 'house_number': 0, 'coord': {'lon': '2.078348820578231', 'lat': '49.01374275942672'}, 'label': 'Boulevard Condorcet (Neuville-sur-Oise)'}, 'fare_zone': {'name': '5'}}, 'additional_informations': [], 'links': []}, {'departure_date_time': '20251114T141850', 'base_departure_date_time': '20251114T141850', 'arrival_date_time': '20251114T141820', 'base_arrival_date_time': '20251114T141820', 'stop_point': {'id': 'stop_point:IDFM:monomodalStopPlace:44559', 'name': 'Cergy Préfecture', 'codes': [{'type': 'netex_monomodal_stopplace', 'value': 'monomodalStopPlace:44559'}, {'type': 'netex_zder_quay', 'value': '411352'}, {'type': 'netex_zder_quay', 'value': '472439'}, {'type': 'netex_zder_quay', 'value': '472932'}, {'type': 'netex_zder_quay', 'value': 'monomodalStopPlace:44559'}, {'type': 'source', 'value': 'FR::monomodalStopPlace:44559:FR1'}], 'label': 'Cergy Préfecture (Cergy)', 'coord': {'lon': '2.079780949001307', 'lat': '49.03630668313397'}, 'links': [], 'equipments': ['has_wheelchair_boarding'], 'address': {'id': '2.0797809490013073;49.036306683133965', 'name': "Grand'Place du Général de Gaulle", 'house_number': 0, 'coord': {'lon': '2.079780949001307', 'lat': '49.03630668313397'}, 'label': "Grand'Place du Général de Gaulle (Cergy)"}, 'fare_zone': {'name': '5'}}, 'additional_informations': [], 'links': []}]}, {'id': 'jHHdcrFLTEAn7oBafEdrGH_0', 'duration': 49, 'co2_emission': {'value': 0.0, 'unit': 'gEC'}, 'departure_date_time': '20251114T141820', 'arrival_date_time': '20251114T141909', 'to': {'id': '2.080018;49.036721', 'name': "16 Grand'Place - Place du Général de Gaulle (Cergy)", 'quality': 0, 'embedded_type': 'address', 'address': {'id': '2.080018;49.036721', 'coord': {'lon': '2.080097618840849', 'lat': '49.03657438300014'}, 'house_number': 16, 'label': "16 Grand'Place - Place du Général de Gaulle (Cergy)", 'name': "16 Grand'Place - Place du Général de Gaulle", 'administrative_regions': [{'id': 'admin:osm:relation:14352438', 'insee': '', 'name': 'Grand Centre', 'label': 'Grand Centre', 'level': 10, 'coord': {'lon': '2.074918087476725', 'lat': '49.03769930235835'}, 'zip_code': None}, {'id': 'admin:osm:relation:7433', 'insee': '95', 'name': "Val-d'Oise", 'label': "Val-d'Oise", 'level': 6, 'coord': {'lon': '2.0388736', 'lat': '49.0527528'}, 'zip_code': None}, {'id': 'admin:osm:relation:8649', 'insee': '11', 'name': 'Île-de-France', 'label': 'Île-de-France', 'level': 4, 'coord': {'lon': '2.3483915', 'lat': '48.8534951'}, 'zip_code': None}, {'id': 'admin:osm:relation:2202162', 'insee': '', 'name': 'France', 'label': 'France', 'level': 2, 'coord': {'lon': '2.3483915', 'lat': '48.8534951'}, 'zip_code': None}, {'id': 'admin:fr:95127', 'insee': '95127', 'name': 'Cergy', 'label': 'Cergy (95000-95800)', 'level': 8, 'coord': {'lon': '2.0388736', 'lat': '49.0527528'}, 'zip_code': '95000-95800'}]}}, 'from': {'id': 'stop_point:IDFM:monomodalStopPlace:44559', 'name': 'Cergy Préfecture (Cergy)', 'quality': 0, 'stop_point': {'id': 'stop_point:IDFM:monomodalStopPlace:44559', 'name': 'Cergy Préfecture', 'codes': [{'type': 'netex_monomodal_stopplace', 'value': 'monomodalStopPlace:44559'}, {'type': 'netex_zder_quay', 'value': '411352'}, {'type': 'netex_zder_quay', 'value': '472439'}, {'type': 'netex_zder_quay', 'value': '472932'}, {'type': 'netex_zder_quay', 'value': 'monomodalStopPlace:44559'}, {'type': 'source', 'value': 'FR::monomodalStopPlace:44559:FR1'}], 'label': 'Cergy Préfecture (Cergy)', 'coord': {'lon': '2.079780949001307', 'lat': '49.03630668313397'}, 'links': [], 'administrative_regions': [{'id': 'admin:fr:95127', 'name': 'Cergy', 'level': 8, 'zip_code': '95000;95800', 'label': 'Cergy (95000-95800)', 'insee': '95127', 'coord': {'lon': '2.0388736', 'lat': '49.0527528'}}, {'id': 'admin:admin:osm:relation:14352438', 'name': 'Grand Centre', 'level': 10, 'zip_code': '', 'label': 'Grand Centre', 'insee': '', 'coord': {'lon': '2.074918090485015', 'lat': '49.0376962651574'}}], 'stop_area': {'id': 'stop_area:IDFM:66696', 'name': 'Cergy Préfecture', 'codes': [{'type': 'TN_PA', 'value': '351'}, {'type': 'source', 'value': 'FR::multimodalStopPlace:66696:FR1'}], 'timezone': 'Europe/Paris', 'label': 'Cergy Préfecture (Cergy)', 'coord': {'lon': '2.080097613845449', 'lat': '49.03657438251047'}, 'links': []}, 'equipments': ['has_wheelchair_boarding'], 'address': {'id': '2.0797809490013073;49.036306683133965', 'name': "Grand'Place du Général de Gaulle", 'house_number': 0, 'coord': {'lon': '2.079780949001307', 'lat': '49.03630668313397'}, 'label': "Grand'Place du Général de Gaulle (Cergy)"}, 'fare_zone': {'name': '5'}}, 'embedded_type': 'stop_point'}, 'geojson': {'type': 'LineString', 'coordinates': [[2.0795819428, 49.0363456235], [2.079822, 49.036413], [2.079887, 49.036451], [2.079914, 49.036431], [2.07993, 49.036422], [2.079944, 49.036416], [2.07997, 49.036433], [2.080017, 49.036464], [2.080049, 49.036484], [2.0800976188, 49.036574383]], 'properties': [{'length': 23}]}, 'mode': 'walking', 'type': 'street_network', 'links': [{'href': 'https://api-idfm.navitia.io/v1/coverage/idfm/elevations?polyline=sb%7Do%7CA%7Bt%7C%7DBeC_NkAaCf%40u%40P_%40J%5Ba%40s%40%7D%40%7DAg%40_AsDaB', 'templated': False, 'rel': 'elevations', 'type': 'elevations'}], 'path': [{'length': 15, 'name': "bd de l'Oise", 'duration': 19, 'direction': 0, 'instruction': "Sortez de Cergy Préfecture (Cergy) via bd de l'Oise.", 'via_uri': 'access_point:IDFM:StopPlaceEntrance:50170232'}, {'length': 6, 'name': '', 'duration': 5, 'direction': 0, 'instruction': "Marchez vers le nord-est sur l'allée. Continuez sur 6 m.", 'instruction_start_coordinate': {'lon': '2.079822', 'lat': '49.036413'}}, {'length': 6, 'name': '', 'duration': 5, 'direction': 84, 'instruction': "Tournez à droite dans l'allée. Continuez sur 6 m.", 'instruction_start_coordinate': {'lon': '2.079887', 'lat': '49.036451'}}, {'length': 11, 'name': '', 'duration': 20, 'direction': -88, 'instruction': "Tournez à gauche dans l'allée. Continuez sur 11 m.", 'instruction_start_coordinate': {'lon': '2.079944', 'lat': '49.036416'}}, {'length': 0, 'name': '', 'duration': 0, 'direction': 0, 'instruction': 'Vous êtes arrivé à votre destination.', 'instruction_start_coordinate': {'lon': '2.080049', 'lat': '49.03648399999999'}}], 'vias': [{'id': 'access_point:IDFM:StopPlaceEntrance:50170232', 'name': "bd de l'Oise", 'access_point': {'id': 'access_point:IDFM:StopPlaceEntrance:50170232', 'name': "bd de l'Oise", 'coord': {'lon': '2.079581942758337', 'lat': '49.03634562350902'}, 'embedded_type': 'pt_access_point'}, 'is_entrance': True, 'is_exit': True, 'length': 15, 'traversal_time': 19, 'pathway_mode': 1}]}], 'links': [{'href': 'https://api-idfm.navitia.io/v1/coverage/idfm/journeys?allowed_id%5B%5D=stop_point%3AIDFM%3AmonomodalStopPlace%3A45873&allowed_id%5B%5D=stop_point%3AIDFM%3AmonomodalStopPlace%3A44559&from=2.333370004894194%3B48.86865900047096&to=2.080097618840849%3B49.03657438300014&first_section_mode%5B%5D=walking&last_section_mode%5B%5D=walking&min_nb_transfers=0&direct_path=none&min_nb_journeys=5&is_journey_schedules=True&datetime=20251114T133419&_pt_planner=kraken', 'templated': False, 'rel': 'same_journey_schedules', 'type': 'journeys'}, {'href': 'https://api-idfm.navitia.io/v1/coverage/idfm/journeys?allowed_id%5B%5D=stop_point%3AIDFM%3AmonomodalStopPlace%3A45873&allowed_id%5B%5D=stop_point%3AIDFM%3AmonomodalStopPlace%3A44559&from=2.333370004894194%3B48.86865900047096&to=2.080097618840849%3B49.03657438300014&first_section_mode%5B%5D=walking&last_section_mode%5B%5D=walking&min_nb_transfers=0&direct_path=none&min_nb_journeys=1&is_journey_schedules=True&datetime=20251114T133419&count=1', 'templated': False, 'rel': 'this_journey', 'type': 'journeys'}]}]}